<section class="bg-gray-900 p-2">
  <h2 class="flex flex-row flex-nowrap items-center mb-8">
    <span
      class="flex-none block mx-4 px-4 py-2.5 text-3xl rounded leading-none font-medium text-white"
    >
      Thống kê
    </span>
  </h2>
  <div class="px-8">
    <p-table
      #dt2
      [value]="players"
      dataKey="player_id"
      [globalFilterFields]="['player_name']"
      selectionMode="single"
      (onRowSelect)="onRowSelect($event)"
      styleClass="my-custom-table"
    >
      <ng-template pTemplate="caption">
        <div class="flex">
          <p-iconField iconPosition="left" class="ml-auto">
            <p-inputIcon>
              <i class="pi pi-search"></i>
            </p-inputIcon>
            <input
              pInputText
              type="text"
              #globalFilterInput
              (input)="dt2.filterGlobal(globalFilterInput.value, 'contains')"
              placeholder="Tìm theo tên"
              class="p-2"
            />
          </p-iconField>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="player_id">
            Id <p-sortIcon field="player_id" />
          </th>
          <th pSortableColumn="player_name" style="width: 15%">
            Tên <p-sortIcon field="player_name" />
          </th>
          <th pSortableColumn="elo" style="width: 15%">
            Elo <p-sortIcon field="elo" />
          </th>
          <th pSortableColumn="win_rate" style="width: 15%">
            Tỷ lệ thắng <p-sortIcon field="win_rate" />
          </th>
          <th pSortableColumn="total_wins" style="width: 15%">
            Thắng <p-sortIcon field="total_wins" />
          </th>
          <th pSortableColumn="total_losses" style="width: 15%">
            Thua <p-sortIcon field="total_losses" />
          </th>
          <th pSortableColumn="total_games" style="width: 15%">
            Số trận thi đấu <p-sortIcon field="total_games" />
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-player>
        <tr [pSelectableRow]="player">
          <td>{{ player.player_id }}</td>
          <td>{{ player.player_name }}</td>
          <td>{{ player.elo }}</td>
          <td>{{ player.win_rate }}%</td>
          <td>{{ player.total_wins }}</td>
          <td>{{ player.total_losses }}</td>
          <td>{{ player.total_games }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</section>
